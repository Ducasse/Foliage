Class {
	#name : 'FOImporterTest',
	#superclass : 'TestCase',
	#instVars : [
		'root'
	],
	#category : 'Foliage-Core-Tests-Importer',
	#package : 'Foliage-Core-Tests',
	#tag : 'Importer'
}

{ #category : 'data' }
FOImporterTest >> PNGContents [ ^ (Form
	extent: (38@36)
	depth: 32
	fromArray: #( 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282206562 4282405743 4282339694 4282206047 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282336603 4283515988 4283843667 4282598746 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282206561 4282805395 4283269812 4283270069 4283270069 4283203503 4282540421 4282140253 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282205532 4285612618 4289479738 4290004024 4290004024 4289807418 4286858053 4282598746 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282206304 4283070627 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4282739345 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4286726982 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4288430911 4282402139 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282672520 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4282405745 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4283909203 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4285874762 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4283136679 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4282212741 4280823358 4280823358 4280823358 4280823358 4280823358 4280823358 4286265913 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4288758590 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4283269811 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4281819010 4278190080 4278190080 4278190080 4278190080 4278190080 4278190080 4286722345 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4289807418 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4283202988 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4282081668 4280099115 4280099115 4280099115 4280099115 4280099115 4280099115 4286461747 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4289152060 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282805138 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4282473083 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4284760911 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4286661190 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282272871 4283203246 4283270069 4283270069 4283270069 4283270069 4283270069 4283270069 4282938783 4282140253 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282271324 4288103487 4290004024 4290004024 4290004024 4290004024 4290004024 4290004024 4289348667 4282926168 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282339180 4283071143 4283270069 4283270069 4283270069 4283270069 4281621116 4281284684 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4281808453 4286328615 4290004024 4290004024 4290004024 4290004024 4288627774 4283450453 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282205790 4282472309 4282605957 4282605698 4281352022 4278190080 4278848528 4282074203 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139739 4278914321 4278190080 4282594110 4285416267 4285547338 4284236625 4282271324 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4279375131 4278190080 4280428340 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4280428340 4278190080 4279309081 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4281613391 4278321667 4278453254 4281810771 4282139996 4282139996 4282139996 4282139996 4281810772 4278453510 4278321667 4281613134 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4280099116 4278190080 4279704099 4282139996 4282139996 4282139996 4282139996 4279704099 4278190080 4280099372 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282008409 4278716684 4278518530 4284765248 4287524935 4287524935 4284699713 4278518530 4278650891 4282008152 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282662458 4290346805 4292712768 4292712768 4292712768 4292712768 4290215476 4282596922 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282927961 4291465024 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4291464768 4282862170 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4287459144 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4287393608 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4290479938 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4290414401 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4291136577 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4291136577 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4289560643 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4289560386 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4285686094 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4285554766 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282205788 4288969540 4292712768 4292712768 4292712768 4292712768 4292712768 4292712768 4288904003 4282205788 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282271324 4286999625 4291793472 4292712768 4292712768 4291793472 4286999369 4282271324 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282337115 4283584598 4283584598 4282337115 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996 4282139996)
	offset: (0@0))
]

{ #category : 'data' }
FOImporterTest >> gsocContentsMD [

	^ 'title: Google Summer of Code
layout: default
publishDate: "2019-05-21"

# Google Summer of Code 2019 Students


On this page, you can find the personal blogs and social media links of the seven students accepted for Google Summer of Code with Pharo Consortium in 2019. Follow their pages to get regular updates on their progress. Don''t hesitate to get in touch with those students - they need your feedback.

## Atharva Khare

- [Personal blog](https://khare.dev/posts/)
- [Twitter](https://twitter.com/code_alchemist)
- [GitHub](https://github.com/AtharvaKhare)


## Dayne Lorena Guerra Calle

- [Personal blog](https://medium.com/@daynestorm)
- [Twitter](https://twitter.com/DayneStorm_)
- [Facebook](https://www.facebook.com/Day.nelo)
- [GitHub](https://github.com/GDayne)


## Evelyn Cusi Lopez

- [Personal blog](https://medium.com/@cusi.evelyn)
- [Twitter](https://twitter.com/Evelyn81435990)
- [Facebook](https://www.facebook.com/evelyn.cusilopez)
- [GitHub](https://github.com/Lin777)


## Myroslava Romaniuk

- [Personal blog](https://medium.com/@myroslavarm)
- [Twitter](https://twitter.com/myroslavarm)
- [GitHub](https://github.com/myroslavarm)


## Nikhil Pinnaparaju

- [Personal blog](https://medium.com/@nikhilpinnaparaju)
- [Twitter](https://twitter.com/NPinnaparaju)
- [Facebook](https://www.facebook.com/nikhil.pinnaparaju.1)
- [GitHub](https://github.com/nikhilpinnaparaju)


## Nina Medic

- [Personal blog](https://pharokeepers.github.io/)
- [Twitter](https://twitter.com/medicka992)
- [GitHub](https://github.com/medicka)


## Smiljana Knezev

- [Personal blog](https://pharokeepers.github.io/)
- [Twitter](https://twitter.com/KnezevSmiljana)
- [GitHub](https://github.com/SmiljanaKnezev)
'
]

{ #category : 'data' }
FOImporterTest >> gsocContentsMD2 [ 

	^ '{"title" : "Google Summer of Code",
"layout" : "default",
"publishDate" : "2019-05-21"}

# Google Summer of Code 2019 Students


On this page, you can find the personal blogs and social media links of the seven students accepted for Google Summer of Code with Pharo Consortium in 2019. Follow their pages to get regular updates on their progress. Don''t hesitate to get in touch with those students - they need your feedback.

## Atharva Khare

- [Personal blog](https://khare.dev/posts/)
- [Twitter](https://twitter.com/code_alchemist)
- [GitHub](https://github.com/AtharvaKhare)


## Dayne Lorena Guerra Calle

- [Personal blog](https://medium.com/@daynestorm)
- [Twitter](https://twitter.com/DayneStorm_)
- [Facebook](https://www.facebook.com/Day.nelo)
- [GitHub](https://github.com/GDayne)


## Evelyn Cusi Lopez

- [Personal blog](https://medium.com/@cusi.evelyn)
- [Twitter](https://twitter.com/Evelyn81435990)
- [Facebook](https://www.facebook.com/evelyn.cusilopez)
- [GitHub](https://github.com/Lin777)


## Myroslava Romaniuk

- [Personal blog](https://medium.com/@myroslavarm)
- [Twitter](https://twitter.com/myroslavarm)
- [GitHub](https://github.com/myroslavarm)


## Nikhil Pinnaparaju

- [Personal blog](https://medium.com/@nikhilpinnaparaju)
- [Twitter](https://twitter.com/NPinnaparaju)
- [Facebook](https://www.facebook.com/nikhil.pinnaparaju.1)
- [GitHub](https://github.com/nikhilpinnaparaju)


## Nina Medic

- [Personal blog](https://pharokeepers.github.io/)
- [Twitter](https://twitter.com/medicka992)
- [GitHub](https://github.com/medicka)


## Smiljana Knezev

- [Personal blog](https://pharokeepers.github.io/)
- [Twitter](https://twitter.com/KnezevSmiljana)
- [GitHub](https://github.com/SmiljanaKnezev)
'
]

{ #category : 'data' }
FOImporterTest >> mdOneFileName [

	^ 'gsoc.md'
]

{ #category : 'data' }
FOImporterTest >> mdTwoFileName [

	^ 'gsoc.md2'
]

{ #category : 'data' }
FOImporterTest >> pngFileName [

	^ 'aPNG.png'
]

{ #category : 'running' }
FOImporterTest >> setUp [

	super setUp.
	root := FileSystem memory root.
	root / self mdOneFileName
		writeStreamDo: [ :st | st nextPutAll: self gsocContentsMD ].
	root / self mdTwoFileName
		writeStreamDo: [ :st | st nextPutAll: self gsocContentsMD2 ].
	
	root / self pngFileName
		writeStreamDo: [ :st | st nextPutAll: 'This is a PNG' ].
	
]

{ #category : 'tests' }
FOImporterTest >> testReadFile [
	
	| importer web |
	web := (FOWebSite new baseUri: 'http://pharo.org').
	importer := FOImporter new.
	importer	website: web.
	importer readFile: root / 'gsoc.md'.
	"I do not get why we have this path but why not for now. "
	self assert: ( web root /'gsoc.md') class equals: FOPillarPage 
]

{ #category : 'tests' }
FOImporterTest >> testReadFile2 [
	
	| importer web |
	web := (FOWebSite new baseUri: 'http://pharo.org'; rawPath: '' asPath).
	importer := FOImporter new.
	importer	website: web.
	importer readFile: root / 'gsoc.md'.
	"I do not get why we have this path but why not for now. "
	self assert: ( web root / 'gsoc.md') class equals: FOPillarPage 
]

{ #category : 'tests' }
FOImporterTest >> testReadFileMicrodonwContentsIsParsed [
	
	| importer web |
	web := (FOWebSite new baseUri: 'http://pharo.org').
	importer := FOImporter new.
	importer	website: web.
	importer readFile: root / 'gsoc.md2'.
	"I do not get why we have this path but why not for now. "
	self assert: ( web root / 'gsoc.md2') document class equals: MicRootBlock
	
	"Check readDocumentFrom:"
]

{ #category : 'tests' }
FOImporterTest >> testReadFileMicrodownV1ContentsIsParsedAndConvertedAsPillar [
	"this version md is for manual meta data + md -> pillar"
	
	| importer web |
	web := (FOWebSite new baseUri: 'http://pharo.org').
	importer := FOImporter new.
	importer	website: web.
	importer readFile: root / 'gsoc.md'.
	"I do not get why we have this path but why not for now. "
	self assert: ( web root / 'gsoc.md') document class equals: PRDocument. 
	
	"Check readDocumentFrom:"
]

{ #category : 'tests' }
FOImporterTest >> testReadFilePngKeepsJustARef [
	
	| importer web |
	web := (FOWebSite new baseUri: 'http://pharo.org').
	importer := FOImporter new.
	importer	website: web.
	importer readFile: root / self pngFileName.
	"I do not get why we have this path but why not for now. "
	self 
		assert: ( web root / self pngFileName) class 
		equals: FOWebImage. 
	self 
		assert: ( web root / self pngFileName) name 
		equals: self pngFileName.
	self 
		assert: ( web root / self pngFileName) sourcePath
		equals: Path / 'aPNG.png'
]
